<% layout('layout') -%>
<section class="mb-8">
  <div class="bg-musanid-light bg-opacity-10 border border-musanid-light rounded-lg p-6 flex flex-col md:flex-row items-center gap-4 shadow-sm">
    <div class="flex-1">
      <h2 class="text-xl font-bold text-musanid-dark mb-2">ูุฑุญุจุงู <span class="text-musanid-light"><%= (user && (user.firstName || user.username)) || 'ูุณุชุฎุฏู' %></span> ๐</h2>
      <p class="text-gray-700">ุณุนูุฏูู ุจุนูุฏุชู! ุชุงุจุน ุฑุญูุชู ุงูุชุนููููุฉ ูุงุณุชูุดู ุงูุฏุฑูุณ ุงูุฌุฏูุฏุฉ.</p>
    </div>
    <div class="flex items-center gap-2">
      <span class="inline-block bg-musanid-dark text-white text-xs px-3 py-1 rounded">ุฌุฏูุฏ</span>
      <span class="text-musanid-dark font-bold">ุฏูุฑุงุช ุชูุช ุฅุถุงูุชูุง ูุคุฎุฑุงู</span>
    </div>
  </div>
</section>
<section class="bg-white rounded-lg shadow-sm p-6 mb-8">
  <h2 class="text-2xl font-bold text-musanid-dark mb-4">ุชูุฏูู ูู ุงูุชุนูู</h2>
  <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
  <div class="bg-musanid-light h-4 rounded-full" data-progress="<%= progressPercent || 0 %>" id="progressBar" style="width:0" aria-label="ูุณุจุฉ ุงูุชูุฏู" role="progressbar" aria-valuenow="<%= progressPercent || 0 %>" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  <p class="text-gray-600">ุฃูููุช <span id="completedLessons"><%= completedLessons || 0 %></span> ูู ุฃุตู <span id="totalLessons"><%= totalLessons || 0 %></span> ุฏุฑุณ</p>
</section>
<section class="bg-white rounded-lg shadow-sm p-6">
  <h2 class="text-2xl font-bold text-musanid-dark mb-6">ูุงุฆูุฉ ุงูุฏุฑูุณ</h2>
  <div class="space-y-4" id="lessonsList">
    <% (lessons || []).forEach(lesson => { %>
      <%- include('partials/lesson_card', { lesson, toggle: true }) %>
    <% }) %>
    <% if(!(lessons && lessons.length)){ %>
      <p class="text-sm text-gray-500">ูุง ููุฌุฏ ุฏุฑูุณ ุญุงููุงู.</p>
    <% } %>
  </div>
</section>